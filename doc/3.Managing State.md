# Reacting to Input with State
- 宣言型プログラミングとは、UIを細かく管理する（命令型）のではなく、視覚的な状態ごとにUIを記述することを意味する。
- コンポーネントを開発するとき
  1. すべての視覚状態を特定する。
  1. 状態を変更するための人間とコンピューターのトリガーを決定する。
  1. 状態をuseStateでモデル化する。
  1. バグやパラドックスを避けるために、必要でないステートを削除する。
  1. 状態を設定するイベント・ハンドラを接続する。
# Choosing the State Structures
- 2つの状態変数が常に一緒に更新される場合は、それらを1つに統合することを検討する。
- 不可能な状態を作らないように、状態変数は慎重に選びましょう。
- 状態の更新を間違える可能性を減らすように、状態を構造化する。
- 同期させる必要がないように、冗長で重複したステートは避ける。
- 特に更新を防ぎたい場合を除き、propsをステートに入れない。
- 選択などのUIパターンでは、オブジェクトそのものではなく、IDやインデックスをステートに保持する。
- 深くネストされたステートの更新が複雑な場合は、フラット化する。
# Sharing State Between Components
- 2つのコンポーネントを協調させたい場合、それらの状態を共通の親に移動させる。
- 次に、共通の親からpropsを通して情報を下に渡します。
- 最後に、子コンポーネントが親の状態を変更できるように、イベントハンドラを下に渡します。
- コンポーネントを「制御型」（propsによって駆動される）または「非制御型」（ステートによって駆動される）と考えると便利です。