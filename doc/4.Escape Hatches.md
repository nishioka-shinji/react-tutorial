# Referencing Values with Refs
- Refは、レンダリングに使用されない値を保持するための逃げ道です。頻繁に必要になることはないだろう。
- refは、currentと呼ばれるプロパティを1つ持つ、プレーンなJavaScriptオブジェクトです。
- useRefフックを呼び出すことで、Reactにrefを渡してもらうことができます。
- ステートのように、refはコンポーネントの再レンダリングの間に情報を保持することができます。
- ステートとは異なり、refの現在の値を設定しても再レンダリングは行われません。
- レンダリング中にref.currentを読み書きしないでください。これにより、コンポーネントの予測が困難になります。
# Manipulating the DOM with Refs
- Refは一般的な概念ですが、多くの場合、DOM要素を保持するために使用します。
- ReactにDOMノードをmyRef.currentに入れるように指示するには、`<div ref={myRef}>`を渡します。
- 通常は、フォーカス、スクロール、DOM要素の計測などの非破壊的なアクションにrefを使用します。
- コンポーネントは、デフォルトではそのDOMノードを公開しません。forwardRef を使用し、2 番目の ref 引数を特定のノードに渡すことで、DOM ノードを公開することができます。
- Reactが管理するDOMノードの変更は避けてください。
- Reactによって管理されているDOMノードを変更する場合は、Reactが更新する理由のない部分を変更します。
# Synchronizing with Effects
- イベントとは異なり、エフェクトは特定のインタラクションではなく、レンダリングそのものによって発生する。
- エフェクトを使用すると、コンポーネントを外部システム（サードパーティのAPI、ネットワークなど）と同期させることができます。
- デフォルトでは、Effectsはすべてのレンダリング（最初のレンダリングを含む）の後に実行されます。
- Reactは、依存関係がすべて前回のレンダリング時と同じ値であれば、Effectをスキップします。
- 依存関係を「選択」することはできません。依存関係は、Effect内部のコードによって決定されます。
- 空の依存関係配列（[]）は、コンポーネントが「マウント」される、つまり画面に追加されることに対応します。
- Strict Modeでは、Reactはコンポーネントを2回マウントします（開発時のみ！）。
- 再マウントが原因でEffectが壊れた場合は、クリーンアップ関数を実装する必要があります。
- Reactは、Effectが次回実行される前と、アンマウント中にクリーンアップ関数を呼び出します。